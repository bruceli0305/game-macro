# Game Macro - 项目技术文档概览

> 🎮 基于AutoHotkey v2开发的专业Game Macro工具  
> 📚 本文档包含项目的完整技术架构和实现细节

## 📖 文档导航

### 核心架构文档

| 文档 | 描述 | 状态 |
|------|------|------|
| [主程序框架](./01-主程序框架.md) | 应用程序入口、全局管理、生命周期控制 | ✅ 完成 |
| [UI框架系统](./03-UI框架系统.md) | 用户界面架构、页面管理、布局系统 | ✅ 完成 |
| [配置存储系统](./04-配置存储系统.md) | 配置管理、数据持久化、导入导出 | ✅ 完成 |

### 操作手册

| 文档 | 描述 | 状态 |
|------|------|------|
| [UI模块操作手册](./manual/ui/UI-Module-Manual.md) | UI界面详细操作指南、控件说明、故障排除 | ✅ 完成 |
| [核心模块操作手册](./manual/core/核心模块操作手册.md) | 核心功能库使用指南、配置管理、基础服务 | ✅ 完成 |
| [引擎模块操作手册](./manual/engines/引擎模块操作手册.md) | 游戏逻辑引擎详解、技能检测、规则执行 | ✅ 完成 |
| [运行时模块操作手册](./manual/runtime/运行时模块操作手册.md) | 运行时组件服务、计数器管理、热键处理 | ✅ 完成 |
| [存储模块操作手册](./manual/storage/存储模块操作手册.md) | 数据存储管理、配置文件处理、导入导出 | ✅ 完成 |
| [工具模块操作手册](./manual/util/工具模块操作手册.md) | 通用工具函数、通知系统、窗口管理 | ✅ 完成 |
| [工作池模块操作手册](./manual/workers/工作池模块操作手册.md) | 多进程管理、线程控制、性能监控 | ✅ 完成 |
| [国际化模块操作手册](./manual/i18n/国际化模块操作手册.md) | 多语言支持、语言包管理、本地化配置 | ✅ 完成 |

### 功能引擎文档

| 文档 | 描述 | 状态 |
|------|------|------|
| [引擎模块详解](./02-引擎模块详解.md) | 游戏逻辑引擎集合、轮转规则、BUFF管理 | ✅ 完成 |
| [工作池系统](./05-工作池系统.md) | 多进程管理、技能分发、性能优化 | ✅ 完成 |
| [运行时组件](./06-运行时组件.md) | 基础服务、计数器、工具函数库 | ✅ 完成 |

---

## 🏗️ 系统架构概览

### 整体架构图

```
Game Macro系统架构
├── 应用层 (Application Layer)
│   ├── Main.ahk              # 程序入口点
│   ├── 权限管理              # UAC权限处理
│   ├── 单实例控制            # 防止重复运行
│   └── 托盘管理              # 系统托盘功能
│
├── 界面层 (UI Layer)
│   ├── UI_Shell.ahk          # 主界面框架
│   ├── UI_Framework.ahk      # 页面管理核心
│   ├── UI_Layout.ahk         # 布局和DPI处理
│   ├── dialogs/              # 对话框模块
│   ├── pages/                # 功能页面模块
│   └── rotation/             # 轮转界面组件
│
├── 业务层 (Business Layer)
│   ├── RuleEngine.ahk        # 规则执行引擎
│   ├── BuffEngine.ahk        # BUFF管理引擎
│   ├── Rotation.ahk          # 技能轮转引擎
│   ├── Dup.ahk               # 重复检测引擎
│   ├── Pixel.ahk             # 像素检测引擎
│   └── Poller.ahk            # 轮询调度引擎
│
├── 服务层 (Service Layer)
│   ├── WorkerPool.ahk        # 工作池控制器
│   ├── WorkerHost.ahk        # 工作进程执行器
│   ├── Storage.ahk           # 数据存储管理
│   ├── Exporter.ahk          # 导入导出功能
│   ├── Counters.ahk          # 计数器服务
│   └── Hotkeys.ahk           # 热键管理
│
├── 核心层 (Core Layer)
│   ├── Core.ahk              # 核心功能库
│   ├── AppConfig.ahk         # 应用配置管理
│   └── Lang.ahk              # 国际化支持
│
└── 工具层 (Utility Layer)
    ├── Utils.ahk             # 通用工具函数
    └── GUI_Threads.ahk        # 线程配置管理
```

### 数据流图

```
用户输入 → UI界面 → 业务引擎 → 工作池 → 技能执行
    ↓           ↓         ↓        ↓        ↓
  热键事件   界面更新   逻辑判断   进程管理   游戏操作
    ↓           ↓         ↓        ↓        ↓
  线程管理   状态同步   规则执行   性能监控   结果反馈
```

---

## 📋 模块功能对照表

| 模块名称 | 文件路径 | 主要功能 | 依赖关系 |
|---------|----------|----------|----------|
| **主程序框架** | `Main.ahk` | 程序启动、全局管理 | UI框架、核心层 |
| **UI框架** | `modules/ui/` | 界面管理、页面切换 | 主程序框架 |
| **规则引擎** | `modules/engines/RuleEngine.ahk` | 条件判断、动作执行 | 工作池系统 |
| **BUFF引擎** | `modules/engines/BuffEngine.ahk` | BUFF监控、续时管理 | 运行时组件 |
| **轮转引擎** | `modules/engines/Rotation.ahk` | 技能轮转、避免重复 | 工作池系统 |
| **工作池** | `modules/workers/WorkerPool.ahk` | 多进程管理 | 运行时组件 |
| **存储系统** | `modules/storage/` | 配置管理、数据持久化 | UI框架 |
| **计数器系统** | `modules/runtime/Counters.ahk` | 数据统计、性能监控 | 所有引擎模块 |

---

## 🚀 快速开始指南

### 开发者指南
1. **了解整体架构** → 阅读 [主程序框架](./01-主程序框架.md)
2. **熟悉界面系统** → 阅读 [UI框架系统](./03-UI框架系统.md)
3. **掌握业务逻辑** → 阅读 [引擎模块详解](./02-引擎模块详解.md)
4. **理解执行机制** → 阅读 [工作池系统](./05-工作池系统.md)

### 功能模块指南
- **配置管理** → [配置存储系统](./04-配置存储系统.md)
- **运行时服务** → [运行时组件](./06-运行时组件.md)
- **性能优化** → 各文档中的性能优化章节

### 扩展开发指南
1. **添加新引擎** → 参考现有引擎模块结构
2. **扩展UI功能** → 基于UI_Framework扩展
3. **优化性能** → 参考各模块的性能优化策略
4. **添加配置项** → 扩展AppConfig.ini和相关处理

---

## 🔧 技术栈信息

### 核心技术
- **开发语言**: AutoHotkey v2
- **架构模式**: 分层架构 + 模块化设计
- **并发模型**: 多进程池 + 线程管理
- **数据存储**: INI文件 + Map数据结构

### 关键特性
- ✅ **模块化设计**: 松耦合架构，易于扩展
- ✅ **多进程支持**: 高并发技能执行
- ✅ **智能轮转**: 避免固定模式检测
- ✅ **实时监控**: 完整的性能和状态监控
- ✅ **国际化支持**: 多语言界面
- ✅ **配置灵活**: 丰富的自定义选项

---

## 📊 性能特性

### 执行效率
- **多进程并行**: 支持多线程并发执行
- **智能调度**: 基于优先级的任务调度
- **缓存机制**: 减少重复计算和检测
- **内存优化**: 及时清理和垃圾回收

### 稳定性保障
- **异常处理**: 完善的错误捕获和恢复
- **状态监控**: 实时系统状态监控
- **资源管理**: 进程和内存资源管理
- **故障恢复**: 自动重启和状态恢复

---

## 🛠️ 开发环境要求

### 必需软件
- **AutoHotkey v2.0+**: 主要开发语言
- **Windows 10/11**: 目标运行环境
- **Git**: 版本控制（可选）

### 开发工具推荐
- **VS Code**: 代码编辑
- **SciTE4AutoHotkey**: AHK专业编辑器
- **Process Monitor**: 进程监控工具

---

## 📞 技术支持

### 文档使用说明
- 按需查阅对应模块文档
- 优先阅读架构概览文档
- 参考代码示例进行开发
- 关注性能优化建议

### 开发建议
- 遵循模块化开发原则
- 注重代码注释和文档
- 进行充分的错误处理
- 关注性能和用户体验

---

*📝 最后更新: 2025-11-30*  
*🔄 文档版本: v1.2*  
*👨‍💻 维护团队: Game Macro开发组*